<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Gilded Spoon Cake Shoppe</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-dark': '#1C161E', // A softer, warmer dark purple
                        'brand-light': '#F4F1ED', // Elegant off-white
                        'brand-gold': '#D4AF37',
                        'brand-gold-hover': '#E2C76A',
                        'brand-gray': '#A09DA6',
                        'brand-card': '#2A232F',
                    },
                    fontFamily: {
                        'serif': ['"Playfair Display"', 'serif'],
                        'sans': ['"Inter"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #1C161E;
            color: #F4F1ED;
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .header-bg {
            background-image: linear-gradient(rgba(28, 22, 30, 0.8), rgba(28, 22, 30, 0.8)), url('https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80');
            background-size: cover;
            background-position: center;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 480px;
        }
        .overlay {
            display: none;
            position: fixed;
            z-index: 999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }
        /* Style for disabled button */
        .disabled-button {
            background-color: #5a5260;
            cursor: not-allowed;
            transform: none;
        }
        .disabled-button:hover {
             background-color: #5a5260;
        }
    </style>
</head>
<body class="font-sans">

    <!-- Overlay & Modals -->
    <div id="overlay" class="overlay"></div>

    <div id="product-modal" class="modal bg-brand-card rounded-2xl shadow-2xl p-8">
        <h3 class="font-serif text-3xl font-bold text-center mb-4 text-white">Customize Your Order</h3>
        <form id="product-form">
            <input type="hidden" id="product-name">
            <!-- Common Options -->
            <div class="space-y-4">
                <div id="slice-limit-message" class="hidden p-3 bg-brand-dark rounded-lg text-center">
                    <p class="text-sm text-brand-gray">Please note: There is a maximum of 6 slices per order. For larger quantities, please consider our <a href="#contact" onclick="closeModal('product-modal')" class="text-brand-gold hover:underline">custom cakes</a>!</p>
                </div>
                <div>
                    <label for="recipe" class="block text-sm font-medium mb-1 text-brand-gray">Customize Your Recipe</label>
                    <select id="recipe" name="recipe" class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                        <option value="Standard">Standard Recipe</option>
                        <option value="Eggless">Eggless Recipe</option>
                        <option value="Nut-Free">Nut-Free Recipe</option>
                    </select>
                </div>
                <!-- Product-Specific Options will be dynamically injected here -->
                <div id="dynamic-options-container"></div>
                
                <div id="fulfillment-options">
                    <label for="fulfillment" class="block text-sm font-medium mb-1 text-brand-gray">Fulfillment Option</label>
                    <select id="fulfillment" name="fulfillment" class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                        <option value="Bakery Pickup Friday">Bakery Pickup: Friday (4PM-6PM)</option>
                        <option value="Bakery Pickup Saturday">Bakery Pickup: Saturday (1P-4P)</option>
                        <option value="Market Pickup Saturday">Market Pick Up- Saturday (9A-12P)</option>
                        <option value="Delivery">Delivery (Thursday ONLY) (+$35.00)</option>
                    </select>
                </div>
                <div>
                  <label class="inline-flex items-center">
                      <input type="checkbox" name="gift-packaging" value="premium-gift-packaging" class="form-checkbox text-brand-gold bg-brand-dark border-brand-dark/50 rounded focus:ring-brand-gold">
                      <span class="ml-2 text-brand-light">Add Premium Gift Packaging (+$15.00)</span>
                  </label>
                </div>
            </div>
            <div class="flex justify-between items-center mt-8">
                <button type="button" onclick="closeModal('product-modal')" class="text-brand-gray hover:text-white transition">Cancel</button>
                <button type="submit" class="bg-brand-gold text-brand-dark font-bold py-2 px-6 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Proceed to Payment</button>
            </div>
        </form>
    </div>
    
    <div id="contact-modal" class="modal bg-brand-card rounded-2xl shadow-2xl p-8">
        <h3 id="contact-modal-title" class="font-serif text-3xl font-bold text-center mb-4 text-white">Request Workshop Info</h3>
        <form id="contact-form">
            <input type="hidden" id="inquiry-type" name="inquiry-type" value="workshop">
            <div class="space-y-4">
                <div>
                    <label for="name" class="block text-sm font-medium mb-1 text-brand-gray">Your Name</label>
                    <input type="text" id="name" name="name" required class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                </div>
                <div>
                    <label for="email" class="block text-sm font-medium mb-1 text-brand-gray">Your Email</label>
                    <input type="email" id="email" name="email" required class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                </div>
                <div id="workshop-fields">
                     <div>
                        <label for="participants" class="block text-sm font-medium mb-1 text-brand-gray">Number of Participants</label>
                        <input type="number" id="participants" name="participants" min="1" placeholder="e.g., 8" class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                    </div>
                     <div>
                        <label for="event-date" class="block text-sm font-medium mb-1 text-brand-gray">Desired Date (if known)</label>
                        <input type="date" id="event-date" name="event-date" class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                    </div>
                </div>
                <div>
                    <label for="message" class="block text-sm font-medium mb-1 text-brand-gray">Questions or Details</label>
                    <textarea id="message" name="message" rows="3" class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold"></textarea>
                </div>
            </div>
            <div class="flex justify-between items-center mt-8">
                <button type="button" onclick="closeModal('contact-modal')" class="text-brand-gray hover:text-white transition">Cancel</button>
                <button type="submit" class="bg-brand-gold text-brand-dark font-bold py-2 px-6 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Send Inquiry</button>
            </div>
        </form>
    </div>
    
    <div id="large-order-modal" class="modal bg-brand-card rounded-2xl shadow-2xl p-8 text-center">
        <h3 id="large-order-modal-title" class="font-serif text-3xl font-bold text-center mb-4 text-white">Large Order Inquiry</h3>
        <p id="large-order-modal-text" class="text-brand-gray mb-6">For large or custom quantity orders, please contact us directly to ensure we can accommodate your request. Please do not proceed with the online checkout.</p>
        <div class="flex justify-center items-center space-x-4 mt-8">
            <button type="button" onclick="closeModal('large-order-modal')" class="text-brand-gray hover:text-white transition px-6 py-2">Close</button>
            <a id="large-order-inquiry-link" href="#" class="bg-brand-gold text-brand-dark font-bold py-2 px-6 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Send Inquiry</a>
        </div>
    </div>


    <!-- Navigation Bar -->
    <nav class="sticky top-0 bg-brand-dark/80 backdrop-blur-lg shadow-lg z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="#home" class="text-2xl font-serif font-bold text-white text-center leading-none">
                The Gilded Spoon
                <span class="block text-xs font-sans font-light not-italic tracking-[0.3em]">CAKE SHOPPE</span>
            </a>
            <div class="hidden md:flex items-center space-x-8 font-medium">
                <a href="#products" class="text-brand-gray hover:text-white transition">Collections</a>
                <a href="flavors.html" class="text-brand-gray hover:text-white transition">Flavors</a>
                <a href="#workshops" class="text-brand-gray hover:text-white transition">Book & Create</a>
                <a href="#contact" class="text-brand-gray hover:text-white transition">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <header id="home" class="text-center py-32 md:py-48 header-bg">
        <div class="max-w-4xl mx-auto px-4">
            <h1 class="font-serif text-5xl md:text-7xl font-bold text-white leading-tight">The Gilded Spoon</h1>
            <h2 class="font-sans text-lg md:text-xl text-brand-light font-light not-italic tracking-[0.4em] mt-2">CAKE SHOPPE</h2>
            <div class="text-xl md:text-2xl text-brand-light font-light mt-6">
                <p>ATELIER SAVOIR FAIRE</p>
                <p>Where Craftsmanship meets Confection</p>
            </div>
            <div class="mt-8">
                <a href="flavors.html" class="inline-block bg-brand-gold text-brand-dark font-bold py-3 px-8 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">View This Month's Flavors</a>
            </div>
        </div>
    </header>

    <!-- Brand Intro Quote -->
    <section class="py-16 mx-4 sm:mx-8 -mt-20 relative">
        <div class="max-w-3xl mx-auto px-8 bg-brand-card shadow-2xl rounded-2xl p-10 text-center">
            <p class="font-serif text-2xl md:text-3xl font-light text-brand-light leading-snug italic">
                “At The Gilded Spoon, every bite tells a story. We believe dessert should feel like poetry on a plate — full of wonder, crafted with care.”
            </p>
        </div>
    </section>

    <!-- Our Indulgent Collections -->
    <section id="products" class="py-20">
        <div class="max-w-6xl mx-auto px-4 sm:px-8">
            <h2 class="font-serif text-4xl md:text-5xl font-semibold text-center mb-8 text-white">Our Indulgent Collections</h2>
            <p class="max-w-3xl mx-auto text-center text-brand-gray mb-10">From individual treats to creative kits, each item is crafted with artistry and the finest ingredients. Explore our collections to find the perfect centerpiece for your celebration or a delightful treat for any moment.</p>
            
            <div id="schedule" class="max-w-3xl mx-auto bg-brand-card/50 border border-brand-gold/20 rounded-2xl p-6 text-center mb-16">
                 <h3 class="font-serif text-2xl font-semibold mb-4 text-white">Our Weekly Schedule</h3>
                <div class="text-md text-brand-gray space-y-3">
                    <p>We are a small-batch home bakery, and everything is made fresh to order. All orders have a minimum 1-week lead time.</p>
                    <p class="font-semibold text-brand-light">To be included in the next week's production schedule, all orders must be placed by <span class="text-brand-gold">6:00 PM on Wednesday</span> for pickup the following <span class="text-brand-gold">Friday or Saturday</span>.</p>
                </div>
            </div>

            <!-- Dynamic Product Cards will be rendered here -->
            <div id="products-container" class="grid grid-cols-1 gap-12"></div>
            
        </div>
    </section>

    <!-- Workshops Section -->
    <section id="workshops" class="py-20 bg-brand-dark">
        <div class="max-w-6xl mx-auto px-4 sm:px-8">
            <h2 class="font-serif text-4xl md:text-5xl font-semibold text-center text-white">Cake Decorating Workshops & Private Events</h2>
            <p class="max-w-3xl mx-auto mt-4 text-center text-brand-gray mb-16">Unleash your inner artist in our hands-on workshops. Perfect for birthdays, team-building, or simply a creative afternoon, we provide the canvas and expert guidance for a memorable experience.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-brand-card rounded-2xl shadow-xl p-8 text-center flex flex-col">
                    <h3 class="font-serif text-2xl font-bold mb-3 text-white">Seasonal Decorating Atelier</h3>
                    <p class="text-brand-gray flex-grow">Join us for creative, themed workshops. We'll provide the canvas and a tasting flight. You bring the inspiration! (Max 10 participants).</p>
                    <p class="font-semibold text-brand-gold my-4">Starting at $75 per person</p>
                    <button onclick="showWorkshopModal('Seasonal Atelier')" class="mt-auto w-full bg-brand-gold text-brand-dark font-bold py-2 px-4 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Request Info</button>
                </div>
                <div class="bg-brand-card rounded-2xl shadow-xl p-8 text-center flex flex-col">
                    <h3 class="font-serif text-2xl font-bold mb-3 text-white">Private Cake Decorating Atelier</h3>
                    <p class="text-brand-gray flex-grow">Host a delightful private party! Perfect for team-building or birthdays. We come to you. (Max 10 participants).</p>
                    <p class="font-semibold text-brand-gold my-4">Starting at $75 per person</p>
                     <button onclick="showWorkshopModal('Private Atelier')" class="mt-auto w-full bg-brand-gold text-brand-dark font-bold py-2 px-4 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Request Info</button>
                </div>
                <div class="bg-brand-card rounded-2xl shadow-xl p-8 text-center flex flex-col">
                    <h3 class="font-serif text-2xl font-bold mb-3 text-white">Flavor Personality Atelier</h3>
                    <p class="text-brand-gray flex-grow">What if a flavor could tell your story? A premium pop-up event designed for creative self-discovery.</p>
                     <p class="font-semibold text-brand-gold my-4">$95 per person</p>
                    <button onclick="showWorkshopModal('Flavor Personality Atelier')" class="mt-auto w-full bg-brand-gold text-brand-dark font-bold py-2 px-4 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Request Info</button>
                </div>
            </div>

            <div class="mt-16 bg-brand-card rounded-2xl shadow-xl p-8 md:p-12 text-center">
                <h3 class="font-serif text-3xl font-bold mb-4 text-white">Special Occasions & Corporate Parties</h3>
                <p class="text-brand-gray max-w-3xl mx-auto leading-relaxed">
                    Planning a larger gathering, corporate event, or special celebration? Capacity for special occasion and corporate parties is determined on a case-by-case basis. Virtual workshop options may also be available.
                    <br><br>
                    Contact us to discuss your vision and let us create a bespoke cake decorating experience for your group.
                </p>
                <button onclick="showWorkshopModal('Large Event/Corporate Party')" class="mt-6 inline-block bg-brand-gold text-brand-dark font-bold py-3 px-8 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Inquire About Large Events</button>
            </div>

        </div>
    </section>
    
    <!-- Our Story Section -->
    <section id="our-story" class="py-20">
        <div class="max-w-6xl mx-auto px-4 sm:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="order-2 md:order-1">
                    <h2 class="font-serif text-4xl md:text-5xl font-semibold mb-6 text-white">Our Story</h2>
                    <div class="text-brand-gray space-y-4">
                        <p>The Gilded Spoon Cake Shoppe is the sweet realization of a lifelong dream. Founded by a passionate baker with a background in art and design, our shoppe is built on the belief that a cake should be as memorable for its beauty as it is for its taste. It’s more than just dessert; it’s an experience.</p>
                        <p>We are an Atelier, a workshop where classic technique meets modern artistry. We pour our hearts into every creation, using only the finest ingredients to craft flavors that are both familiar and surprising. From our signature Cake Pucks to our bespoke celebration cakes, each item is a piece of edible art, designed to bring a little more joy and wonder into your life.</p>
                    </div>
                </div>
                <div class="order-1 md:order-2">
                    <img src="https://imgur.com/1x3JGRP.jpeg" alt="Baker decorating a cake" class="rounded-2xl shadow-xl w-full h-full object-cover">
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-brand-dark">
        <div class="max-w-3xl mx-auto px-4 sm:px-8 text-center">
            <h2 class="font-serif text-4xl sm:text-5xl font-semibold mb-8 text-white">Let's Connect!</h2>
            <p class="text-lg text-brand-gray mb-8">For custom cakes, private workshops, or any other questions, please reach out. We'd love to help bring your sweet vision to life.</p>
            <p class="text-brand-gray mb-8">You can email us directly at <a href="mailto:contact@thegildedspoonshoppe.com" class="text-brand-gold hover:underline">contact@thegildedspoonshoppe.com</a> for any questions.</p>
            <a href="mailto:contact@thegildedspoonshoppe.com" class="inline-block bg-brand-gold text-brand-dark font-bold py-3 px-8 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Send an Email Inquiry</a>
        </div>
    </section>

    <footer class="bg-black/20 text-center py-12">
        <div class="max-w-6xl mx-auto px-4 sm:px-8">
            <!-- Social Media Icons -->
            <div class="flex justify-center space-x-6 mb-6">
                <!-- Replace # with your actual Instagram link -->
                <a href="https://www.instagram.com/flour.shoppe.studios/" aria-label="Instagram" class="text-brand-gray hover:text-white transition">
                    <svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" fill="#0F0F0F"/>
<path d="M18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z" fill="#0F0F0F"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M1.65396 4.27606C1 5.55953 1 7.23969 1 10.6V13.4C1 16.7603 1 18.4405 1.65396 19.7239C2.2292 20.8529 3.14708 21.7708 4.27606 22.346C5.55953 23 7.23969 23 10.6 23H13.4C16.7603 23 18.4405 23 19.7239 22.346C20.8529 21.7708 21.7708 20.8529 22.346 19.7239C23 18.4405 23 16.7603 23 13.4V10.6C23 7.23969 23 5.55953 22.346 4.27606C21.7708 3.14708 20.8529 2.2292 19.7239 1.65396C18.4405 1 16.7603 1 13.4 1H10.6C7.23969 1 5.55953 1 4.27606 1.65396C3.14708 2.2292 2.2292 3.14708 1.65396 4.27606ZM13.4 3H10.6C8.88684 3 7.72225 3.00156 6.82208 3.0751C5.94524 3.14674 5.49684 3.27659 5.18404 3.43597C4.43139 3.81947 3.81947 4.43139 3.43597 5.18404C3.27659 5.49684 3.14674 5.94524 3.0751 6.82208C3.00156 7.72225 3 8.88684 3 10.6V13.4C3 15.1132 3.00156 16.2777 3.0751 17.1779C3.14674 18.0548 3.27659 18.5032 3.43597 18.816C3.81947 19.5686 4.43139 20.1805 5.18404 20.564C5.49684 20.7234 5.94524 20.8533 6.82208 20.9249C7.72225 20.9984 8.88684 21 10.6 21H13.4C15.1132 21 16.2777 20.9984 17.1779 20.9249C18.0548 20.8533 18.5032 20.7234 18.816 20.564C19.5686 20.1805 20.1805 19.5686 20.564 18.816C20.7234 18.5032 20.8533 18.0548 20.9249 17.1779C20.9984 16.2777 21 15.1132 21 13.4V10.6C21 8.88684 20.9984 7.72225 20.9249 6.82208C20.8533 5.94524 20.7234 5.49684 20.564 5.18404C20.1805 4.43139 19.5686 3.81947 18.816 3.43597C18.5032 3.27659 18.0548 3.14674 17.1779 3.0751C16.2777 3.00156 15.1132 3 13.4 3Z" fill="#0F0F0F"/>
</svg>
                </a>
                <!-- Replace # with your actual Facebook link -->
                <a href="https://www.facebook.com/thegildedspoonshoppe" aria-label="Facebook" class="text-brand-gray hover:text-white transition">
                    <svg width="32px" height="32px" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20 1C21.6569 1 23 2.34315 23 4V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H20ZM20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H15V13.9999H17.0762C17.5066 13.9999 17.8887 13.7245 18.0249 13.3161L18.4679 11.9871C18.6298 11.5014 18.2683 10.9999 17.7564 10.9999H15V8.99992C15 8.49992 15.5 7.99992 16 7.99992H18C18.5523 7.99992 19 7.5522 19 6.99992V6.31393C19 5.99091 18.7937 5.7013 18.4813 5.61887C17.1705 5.27295 16 5.27295 16 5.27295C13.5 5.27295 12 6.99992 12 8.49992V10.9999H10C9.44772 10.9999 9 11.4476 9 11.9999V12.9999C9 13.5522 9.44771 13.9999 10 13.9999H12V21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20Z" fill="#0F0F0F"/>
</svg>
                </a>
                <!-- Replace # with your actual Linkedin link -->
                <a href="https://www.linkedin.com/company/the-gilded-spoon/" aria-label="Linkedin" class="text-brand-gray hover:text-white transition">
                    <svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20 1C21.6569 1 23 2.34315 23 4V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H20ZM20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H15V13.9999H17.0762C17.5066 13.9999 17.8887 13.7245 18.0249 13.3161L18.4679 11.9871C18.6298 11.5014 18.2683 10.9999 17.7564 10.9999H15V8.99992C15 8.49992 15.5 7.99992 16 7.99992H18C18.5523 7.99992 19 7.5522 19 6.99992V6.31393C19 5.99091 18.7937 5.7013 18.4813 5.61887C17.1705 5.27295 16 5.27295 16 5.27295C13.5 5.27295 12 6.99992 12 8.49992V10.9999H10C9.44772 10.9999 9 11.4476 9 11.9999V12.9999C9 13.5522 9.44771 13.9999 10 13.9999H12V21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20Z" fill="#0F0F0F"/>
</svg
                </a>
            </div>
            <!-- Policy Link -->
            <div class="mb-6">
                 <a href="policies.html" class="text-brand-gray hover:text-white hover:underline transition">Shipping & Return Policies</a>
            </div>
            
            <!-- Payment Info & Copyright -->
            <div class="border-t border-brand-gray/20 pt-8">
                <!-- Payment Icons -->
                <div class="flex justify-center items-center space-x-4 mb-4 text-brand-gray">
<svg width="32px" height="32px" viewBox="0 -11 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="69" height="47" rx="5.5" fill="white" stroke="#D9D9D9"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.1601 16.6863C18.5726 17.3901 17.6325 17.9452 16.6924 17.8659C16.5749 16.9143 17.0352 15.9032 17.5737 15.2787C18.1613 14.5551 19.1895 14.0397 20.0219 14C20.1198 14.9913 19.7379 15.9627 19.1601 16.6863ZM20.012 18.0542C19.1838 18.006 18.4281 18.3064 17.8177 18.549C17.4249 18.7051 17.0923 18.8373 16.8392 18.8373C16.5552 18.8373 16.2089 18.6981 15.82 18.5417L15.82 18.5417L15.82 18.5417L15.82 18.5417C15.3104 18.3368 14.7278 18.1025 14.1169 18.1137C12.7166 18.1335 11.4142 18.9365 10.6993 20.2152C9.23044 22.7726 10.3174 26.5593 11.7373 28.6409C12.4326 29.6718 13.265 30.8018 14.3617 30.7622C14.8442 30.7438 15.1913 30.5947 15.5505 30.4404C15.9641 30.2628 16.3937 30.0782 17.0645 30.0782C17.712 30.0782 18.1228 30.2579 18.5172 30.4305C18.8921 30.5945 19.2522 30.752 19.7868 30.7424C20.9227 30.7225 21.6376 29.7115 22.3328 28.6806C23.0831 27.5741 23.4129 26.4943 23.4629 26.3304L23.4688 26.3114C23.4676 26.3102 23.4583 26.3059 23.4419 26.2984C23.1911 26.1821 21.274 25.2937 21.2557 22.9114C21.2372 20.9118 22.7762 19.8987 23.0185 19.7392C23.0332 19.7295 23.0432 19.723 23.0477 19.7196C22.0684 18.2525 20.5408 18.0939 20.012 18.0542ZM27.8755 30.6333V15.1796H33.6041C36.5615 15.1796 38.6277 17.2414 38.6277 20.2548C38.6277 23.2683 36.5223 25.3499 33.5258 25.3499H30.2453V30.6333H27.8755ZM30.2451 17.2018H32.9772C35.0336 17.2018 36.2087 18.312 36.2087 20.2648C36.2087 22.2175 35.0336 23.3377 32.9674 23.3377H30.2451V17.2018ZM46.452 28.7797C45.8253 29.989 44.4445 30.7523 42.9561 30.7523C40.7527 30.7523 39.2153 29.424 39.2153 27.4217C39.2153 25.4391 40.7038 24.2992 43.4555 24.1307L46.4128 23.9522V23.0998C46.4128 21.8409 45.6 21.1569 44.1508 21.1569C42.9561 21.1569 42.0845 21.7814 41.9083 22.733H39.7735C39.842 20.7307 41.7026 19.2735 44.2193 19.2735C46.9318 19.2735 48.6945 20.7108 48.6945 22.9412V30.6333H46.501V28.7797H46.452ZM43.5924 28.9185C42.3292 28.9185 41.5262 28.3039 41.5262 27.3622C41.5262 26.3908 42.2998 25.8257 43.7785 25.7365L46.4127 25.568V26.4403C46.4127 27.8876 45.1984 28.9185 43.5924 28.9185ZM55.9702 31.238C55.0204 33.9442 53.9334 34.8363 51.6224 34.8363C51.4461 34.8363 50.8585 34.8165 50.7214 34.7768V32.9232C50.8683 32.943 51.2307 32.9628 51.4167 32.9628C52.4645 32.9628 53.0521 32.5167 53.4144 31.357L53.6298 30.673L49.6149 19.4222H52.0924L54.8833 28.5517H54.9322L57.7231 19.4222H60.1321L55.9702 31.238Z" fill="#000000"/>
</svg>                     
<svg width="32px" height="32px" viewBox="0 -11 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="69" height="47" rx="5.5" fill="white" stroke="#D9D9D9"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M33.0603 31.5161V25.4741H36.1786C37.4564 25.4741 38.535 25.046 39.4142 24.2015L39.6252 23.9875C41.2313 22.2391 41.1258 19.5155 39.4142 17.898C38.5584 17.0416 37.3861 16.5778 36.1786 16.6016H31.1729V31.5161H33.0603ZM33.0605 23.6425V18.4332H36.2262C36.9063 18.4332 37.5512 18.6948 38.0319 19.1706C39.052 20.1696 39.0754 21.8347 38.0905 22.8694C37.6098 23.3809 36.9297 23.6663 36.2262 23.6425H33.0605ZM48.4293 22.1083C47.6204 21.359 46.5185 20.9784 45.1234 20.9784C43.3298 20.9784 41.9816 21.6444 41.0906 22.9646L42.7553 24.0231C43.3649 23.1192 44.1973 22.6673 45.2524 22.6673C45.9206 22.6673 46.5653 22.9171 47.0694 23.369C47.5618 23.7972 47.8432 24.4156 47.8432 25.0698V25.5098C47.1163 25.1055 46.2019 24.8914 45.0765 24.8914C43.7635 24.8914 42.7084 25.2006 41.923 25.831C41.1375 26.4613 40.739 27.2939 40.739 28.3524C40.7155 29.3158 41.1258 30.2316 41.8527 30.85C42.5912 31.5161 43.5291 31.8491 44.631 31.8491C45.9323 31.8491 46.9639 31.2663 47.7494 30.1007H47.8314V31.5161H49.6368V25.2244C49.6368 23.9042 49.2382 22.8576 48.4293 22.1083ZM43.3066 29.6369C42.9197 29.3514 42.6852 28.8876 42.6852 28.3881C42.6852 27.8291 42.9432 27.3652 43.4473 26.9965C43.9632 26.6278 44.6081 26.4375 45.3702 26.4375C46.4255 26.4256 47.2462 26.6635 47.8325 27.1392C47.8325 27.948 47.5159 28.6497 46.8945 29.2444C46.3317 29.8153 45.5696 30.1364 44.7723 30.1364C44.2446 30.1483 43.7287 29.9699 43.3066 29.6369ZM53.693 35.9999L60.0001 21.3114H57.9485L55.0295 28.6378H54.9943L52.0049 21.3114H49.9534L54.0916 30.8619L51.747 35.9999H53.693Z" fill="#3C4043"/>
<path d="M26.544 24.1659C26.544 23.5831 26.4971 23.0003 26.4034 22.4294H18.4434V25.7239H23.0037C22.8161 26.7825 22.2065 27.734 21.3155 28.3286V30.4695H24.0353C25.6296 28.9828 26.544 26.7825 26.544 24.1659Z" fill="#4285F4"/>
<path d="M18.4442 32.539C20.7185 32.539 22.6411 31.7778 24.0361 30.4695L21.3164 28.3287C20.5544 28.852 19.5814 29.1493 18.4442 29.1493C16.2403 29.1493 14.3763 27.6388 13.7081 25.6169H10.9062V27.8291C12.3365 30.7193 15.2555 32.539 18.4442 32.539Z" fill="#34A853"/>
<path d="M13.708 25.6169C13.3563 24.5584 13.3563 23.4048 13.708 22.3343V20.134H10.9058C9.69808 22.5484 9.69808 25.4029 10.9058 27.8172L13.708 25.6169Z" fill="#FBBC04"/>
<path d="M18.4442 18.8019C19.6517 18.7781 20.8123 19.242 21.6798 20.0864L24.0948 17.6363C22.559 16.1853 20.5427 15.3885 18.4442 15.4123C15.2555 15.4123 12.3365 17.2439 10.9062 20.134L13.7081 22.3462C14.3763 20.3124 16.2403 18.8019 18.4442 18.8019Z" fill="#EA4335"/>
</svg>                     
<svg width="32px" height="32px" viewBox="0 -9 58 58" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="57" height="39" rx="3.5" fill="white" stroke="#F3F3F3"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2489 30.8906V32.3674V33.8443H20.6016V33.4857C20.3963 33.7517 20.0848 33.9186 19.6614 33.9186C18.8266 33.9186 18.1722 33.27 18.1722 32.3674C18.1722 31.4656 18.8266 30.8163 19.6614 30.8163C20.0848 30.8163 20.3963 30.9832 20.6016 31.2492V30.8906H21.2489ZM19.7419 31.4218C19.1816 31.4218 18.8387 31.8483 18.8387 32.3674C18.8387 32.8866 19.1816 33.3131 19.7419 33.3131C20.2773 33.3131 20.6387 32.905 20.6387 32.3674C20.6387 31.8299 20.2773 31.4218 19.7419 31.4218ZM43.1228 32.3674C43.1228 31.8483 43.4657 31.4218 44.026 31.4218C44.5621 31.4218 44.9228 31.8299 44.9228 32.3674C44.9228 32.905 44.5621 33.3131 44.026 33.3131C43.4657 33.3131 43.1228 32.8866 43.1228 32.3674ZM45.5338 29.7044V32.3674V33.8443H44.8858V33.4857C44.6804 33.7517 44.3689 33.9186 43.9455 33.9186C43.1107 33.9186 42.4563 33.27 42.4563 32.3674C42.4563 31.4656 43.1107 30.8163 43.9455 30.8163C44.3689 30.8163 44.6804 30.9832 44.8858 31.2492V29.7044H45.5338ZM29.2838 31.3914C29.7008 31.3914 29.9688 31.6509 30.0373 32.1079H28.4925C28.5616 31.6814 28.8225 31.3914 29.2838 31.3914ZM27.8138 32.3674C27.8138 31.4465 28.424 30.8163 29.2966 30.8163C30.1307 30.8163 30.7038 31.4465 30.7102 32.3674C30.7102 32.4537 30.7038 32.5344 30.6974 32.6143H28.4868C28.5802 33.1462 28.9601 33.3379 29.3771 33.3379C29.6758 33.3379 29.9938 33.2261 30.2433 33.0288L30.5605 33.5048C30.1991 33.8075 29.7885 33.9186 29.3401 33.9186C28.449 33.9186 27.8138 33.3068 27.8138 32.3674ZM37.1126 32.3674C37.1126 31.8483 37.4555 31.4218 38.0158 31.4218C38.5511 31.4218 38.9126 31.8299 38.9126 32.3674C38.9126 32.905 38.5511 33.3131 38.0158 33.3131C37.4555 33.3131 37.1126 32.8866 37.1126 32.3674ZM39.5228 30.8906V32.3674V33.8443H38.8755V33.4857C38.6695 33.7517 38.3587 33.9186 37.9352 33.9186C37.1004 33.9186 36.446 33.27 36.446 32.3674C36.446 31.4656 37.1004 30.8163 37.9352 30.8163C38.3587 30.8163 38.6695 30.9832 38.8755 31.2492V30.8906H39.5228ZM33.4569 32.3674C33.4569 33.2636 34.0857 33.9186 35.0452 33.9186C35.4936 33.9186 35.7923 33.8196 36.116 33.5663L35.8051 33.0472C35.5621 33.2205 35.3068 33.3131 35.026 33.3131C34.5091 33.3068 34.1292 32.9361 34.1292 32.3674C34.1292 31.7988 34.5091 31.4281 35.026 31.4218C35.3068 31.4218 35.5621 31.5144 35.8051 31.6877L36.116 31.1685C35.7923 30.9153 35.4936 30.8163 35.0452 30.8163C34.0857 30.8163 33.4569 31.4713 33.4569 32.3674ZM41.0177 31.2492C41.1859 30.9896 41.429 30.8163 41.8026 30.8163C41.9337 30.8163 42.1205 30.8411 42.2638 30.8969L42.0642 31.5024C41.9273 31.4465 41.7904 31.4281 41.6593 31.4281C41.2358 31.4281 41.0241 31.6997 41.0241 32.1885V33.8443H40.3761V30.8906H41.0177V31.2492ZM24.4505 31.1254C24.1389 30.9217 23.7098 30.8163 23.2364 30.8163C22.4822 30.8163 21.9967 31.1749 21.9967 31.762C21.9967 32.2437 22.3582 32.5407 23.024 32.6334L23.3298 32.6765C23.6848 32.7261 23.8524 32.8187 23.8524 32.9856C23.8524 33.2141 23.6157 33.3442 23.1737 33.3442C22.7253 33.3442 22.4017 33.2021 22.1835 33.0351L21.8784 33.5352C22.2334 33.7948 22.6818 33.9186 23.1673 33.9186C24.027 33.9186 24.5253 33.5168 24.5253 32.9545C24.5253 32.4353 24.1332 32.1637 23.4852 32.0711L23.1801 32.0272C22.9 31.9904 22.6754 31.9353 22.6754 31.7372C22.6754 31.5208 22.8871 31.3914 23.2421 31.3914C23.6221 31.3914 23.9899 31.5335 24.1703 31.6446L24.4505 31.1254ZM32.0184 31.2492C32.1859 30.9896 32.429 30.8163 32.8025 30.8163C32.9337 30.8163 33.1205 30.8411 33.2637 30.8969L33.0641 31.5024C32.9273 31.4465 32.7904 31.4281 32.6592 31.4281C32.2358 31.4281 32.0241 31.6997 32.0241 32.1885V33.8443H31.3768V30.8906H32.0184V31.2492ZM27.2784 30.8906H26.2198V29.9944H25.5654V30.8906H24.9616V31.4776H25.5654V32.8251C25.5654 33.5105 25.8334 33.9186 26.5991 33.9186C26.8799 33.9186 27.2036 33.8323 27.4089 33.6901L27.2221 33.1398C27.0289 33.2509 26.8172 33.3068 26.649 33.3068C26.3253 33.3068 26.2198 33.1087 26.2198 32.8123V31.4776H27.2784V30.8906ZM17.5997 31.9904V33.8443H16.9453V32.2005C16.9453 31.6997 16.7336 31.4218 16.2916 31.4218C15.8617 31.4218 15.563 31.6941 15.563 32.2069V33.8443H14.9086V32.2005C14.9086 31.6997 14.6912 31.4218 14.2613 31.4218C13.8186 31.4218 13.5321 31.6941 13.5321 32.2069V33.8443H12.8784V30.8906H13.5264V31.2548C13.7695 30.909 14.0803 30.8163 14.3982 30.8163C14.853 30.8163 15.1767 31.0144 15.382 31.3418C15.6564 30.9274 16.0485 30.8099 16.4285 30.8163C17.1513 30.8227 17.5997 31.2923 17.5997 31.9904Z" fill="#231F20"/>
<path d="M34.0465 25.8715H24.2359V8.3783H34.0465V25.8715Z" fill="#FF5F00"/>
<path d="M24.8583 17.1253C24.8583 13.5767 26.5328 10.4157 29.1405 8.37867C27.2336 6.88907 24.8269 5.99998 22.2114 5.99998C16.0194 5.99998 11 10.9809 11 17.1253C11 23.2697 16.0194 28.2506 22.2114 28.2506C24.8269 28.2506 27.2336 27.3615 29.1405 25.8719C26.5328 23.8349 24.8583 20.6739 24.8583 17.1253" fill="#EB001B"/>
<path d="M47.2818 17.1253C47.2818 23.2697 42.2624 28.2506 36.0704 28.2506C33.4548 28.2506 31.0482 27.3615 29.1405 25.8719C31.7489 23.8349 33.4235 20.6739 33.4235 17.1253C33.4235 13.5767 31.7489 10.4157 29.1405 8.37867C31.0482 6.88907 33.4548 5.99998 36.0704 5.99998C42.2624 5.99998 47.2818 10.9809 47.2818 17.1253" fill="#F79E1B"/>
</svg>                
                </div>
                <!-- Secure Checkout Text -->
                <div class="flex justify-center items-center text-sm text-brand-gray mb-6">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2V7a5 5 0 00-5-5zm0 2.5a2.5 2.5 0 012.5 2.5V9h-5V7a2.5 2.5 0 012.5-2.5z" clip-rule="evenodd"/>
                    </svg>
                    <span>Secure Checkout by Square</span>
                </div>
                
                <p class="text-brand-light">The Gilded Spoon Cake Shoppe by Flour Shoppe Studios</p>
                <p class="text-brand-gray text-sm">&copy; 2024 The Gilded Spoon Cake Shoppe. All Rights Reserved.</p>
                <p class="mt-4 text-xs text-brand-gray/50 max-w-md mx-auto px-4">Products are prepared in a home kitchen that handles allergens including wheat, dairy, eggs, soy, and nuts.</p>
            </div>
        </div>
    </footer>


    <script>
        // --- MODAL CONTROLS ---
        const overlay = document.getElementById('overlay');
        const productModal = document.getElementById('product-modal');
        const contactModal = document.getElementById('contact-modal');
        const largeOrderModal = document.getElementById('large-order-modal');
        const dynamicOptionsContainer = document.getElementById('dynamic-options-container');

        const products = [
            {
                id: 'pucks',
                name: 'Curated Cake Pucks',
                description: 'Our signature treat. A hybrid between a brownie and cake with a delicate chocolate shell, adorned with seasonal decoration.',
                image: 'https://imgur.com/9tV4SFa.jpeg',
                price: '$5.00 - $27.00',
                maxOnlineQuantity: 24,
                largeOrderNote: 'For orders over 2 dozen (24), please use the large order inquiry on the product page.',
                options: {
                    type: 'select',
                    label: 'Select Pack Size',
                    items: [
                        { text: 'Single - $5.00', value: 'Single' },
                        { text: '3-Pack - $15.00', value: '3-Pack' },
                        { text: '6-Pack - $27.00', value: '6-Pack' },
                    ]
                },
                squareLinks: {
                    'Single': 'https://square.link/u/rHgetHXR',
                    '3-Pack': 'https://square.link/u/KMi13npr',
                    '6-Pack': 'https://square.link/u/k3QTMvuF'
                },
            },
            {
                id: 'mithas',
                name: 'Mithas & Mahal',
                description: 'Inspired by the cherished flavors of our founder's South Asian heritage and the nostalgic warmth of a grandmother\'s kitchen, each miniature cake is a unique masterpiece, transforming traditional Indian desserts into elegant, modern cake creations.',
                image: 'https://i.imgur.com/Ukt0N5x.jpeg',
                price: '$15.00 per slice',
                customNote: 'Each Mithas & Mahal Cake Flight includes a flight of two slices of your choice.',
                maxOnlineQuantity: 8,
                largeOrderNote: 'Max online order is 4 flights. For more, please use the large order inquiry.',
                options: {
                    type: 'checkbox',
                    label: 'Choose Your Flavors',
                    items: [
                        { text: 'Ras Malai', value: 'ras-malai' },
                        { text: 'Gulab Jamun', value: 'gulab-jamun' },
                    ]
                },
                squareLinks: {
                    default: 'https://square.link/u/gVzN8E2P'
                },
            },
            {
                id: 'flight',
                name: 'Signature Cake Flavor Flight',
                description: 'Embark on a culinary journey with a curated selection of three signature and seasonal flavors.',
                image: 'https://imgur.com/V7FhUqj.jpeg',
                price: '$40.00',
                maxOnlineQuantity: 12,
                largeOrderNote: 'Max online order is 4 flights. Please inquire for larger quantities.',
                options: {
                    type: 'select',
                    label: 'Add Curated Fusion Flavor Slice',
                    items: [
                        { text: 'No, thanks', value: 'no-fusion' },
                        { text: 'Yes, please (+$5.00)', value: 'fusion' },
                    ]
                },
                squareLinks: {
                    'no-fusion': 'https://square.link/u/escrWE54',
                    'fusion': 'https://square.link/u/escrWE54'
                },
            },
            {
                id: 'kit',
                name: 'At-Home Decorating Kit',
                description: 'Find your inner artist with our Edible Canvas kit. Enjoy our most creative workshop from the comfort of your home.',
                image: 'https://imgur.com/FX7UFPc.jpeg',
                price: '$45.00',
                maxOnlineQuantity: 10,
                largeOrderNote: 'For orders over 10 kits, please use the large order inquiry.',
                options: {
                    type: 'select',
                    label: 'Choose Your Edible Canvas',
                    items: [
                        { text: 'Signature Personal Blank Canvas Cake', value: 'Single Layer Cake' },
                        { text: 'Signature Cake Pucks (3-pack)', value: '3-pack Cake Pucks' },
                    ]
                },
                squareLinks: {
                    'Single Layer Cake': 'https://square.link/u/D099GWCT',
                    '3-pack Cake Pucks': 'https://square.link/u/83V019Ki'
                },
            },
            {
                id: 'custom',
                name: 'Custom Cakes',
                description: 'Your vision, beautifully baked. Perfect for celebrations, our custom cakes are designed to be the centerpiece your occasion deserves.',
                image: 'https://imgur.com/xtvtDQs.jpeg',
                price: 'Starting at $125.00',
                isContactForm: true,
            }
        ];

        function renderProductCards() {
            const container = document.getElementById('products-container');
            if (!container) return;
            container.innerHTML = '';
            
            products.forEach(product => {
                let cardHtml = '';
                // Handle different card layouts (with image on left vs right)
                if (['slice', 'kit'].includes(product.id)) {
                    cardHtml = `
                        <div class="bg-brand-card rounded-2xl shadow-xl overflow-hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2">
                                <div class="p-8 flex flex-col justify-center order-2 md:order-1">
                                    <h3 class="font-serif text-3xl font-bold mb-4 text-white">${product.name}</h3>
                                    <p class="text-brand-gray mb-6">${product.description}</p>
                                    ${product.largeOrderNote ? `<p class="text-sm text-brand-gray/80 -mt-4 mb-6">(Max online order: ${product.maxOnlineQuantity} items. Please inquire for larger quantities.)</p>` : ''}
                                    <div class="text-xl font-semibold text-brand-gold mb-4">Price: ${product.price}</div>
                                    ${product.isContactForm ? 
                                        `<a href="mailto:contact@thegildedspoonshoppe.com?subject=Custom%20Cake%20Inquiry" class="mt-4 text-center w-full bg-transparent border-2 border-brand-gold text-brand-gold font-bold py-3 px-6 rounded-lg hover:bg-brand-gold hover:text-brand-dark transition">Request a Quote</a>` : 
                                        `<button id="${product.id}-order-btn" onclick="showProductModal('${product.id}')" class="mt-4 w-full bg-brand-gold text-brand-dark font-bold py-3 px-6 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Order Now</button>`
                                    }
                                    ${!product.isContactForm ? `<div class="mt-4 text-center">
                                        <label class="inline-flex items-center text-sm">
                                            <input type="checkbox" onchange="toggleLargeOrder('${product.name}', this.checked)" class="form-checkbox text-brand-gold bg-brand-dark border-brand-dark/50 rounded focus:ring-brand-gold">
                                            <span class="ml-2 text-brand-gray">Request for large order</span>
                                        </label>
                                    </div>` : ''}
                                </div>
                                <img src="${product.image}" alt="${product.name}" class="w-full h-64 md:h-full object-cover order-1 md:order-2">
                            </div>
                        </div>
                    `;
                } else {
                    cardHtml = `
                        <div class="bg-brand-card rounded-2xl shadow-xl overflow-hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2">
                                <img src="${product.image}" alt="${product.name}" class="w-full h-64 md:h-full object-cover">
                                <div class="p-8 flex flex-col justify-center">
                                    <h3 class="font-serif text-3xl font-bold mb-4 text-white">${product.name}</h3>
                                    <p class="text-brand-gray mb-6">${product.description}</p>
                                    ${product.largeOrderNote ? `<p class="text-sm text-brand-gray/80 -mt-4 mb-6">(Max online order: ${product.maxOnlineQuantity} items. Please inquire for larger quantities.)</p>` : ''}
                                    ${product.customNote ? `<p class="text-sm text-brand-gray/80 -mt-4 mb-6">${product.customNote}</p>` : ''}
                                    <div class="text-xl font-semibold text-brand-gold mb-4">Price: ${product.price}</div>
                                    ${product.isContactForm ? 
                                        `<a href="mailto:contact@thegildedspoonshoppe.com?subject=Custom%20Cake%20Inquiry" class="mt-4 text-center w-full bg-transparent border-2 border-brand-gold text-brand-gold font-bold py-3 px-6 rounded-lg hover:bg-brand-gold hover:text-brand-dark transition">Request a Quote</a>` : 
                                        `<button id="${product.id}-order-btn" onclick="showProductModal('${product.id}')" class="mt-4 w-full bg-brand-gold text-brand-dark font-bold py-3 px-6 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Order Now</button>`
                                    }
                                    ${!product.isContactForm ? `<div class="mt-4 text-center">
                                        <label class="inline-flex items-center text-sm">
                                            <input type="checkbox" onchange="toggleLargeOrder('${product.name}', this.checked)" class="form-checkbox text-brand-gold bg-brand-dark border-brand-dark/50 rounded focus:ring-brand-gold">
                                            <span class="ml-2 text-brand-gray">Request for large order</span>
                                        </label>
                                    </div>` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                }

                container.innerHTML += cardHtml;
            });
        }

        function renderModalOptions(product) {
            dynamicOptionsContainer.innerHTML = '';
            
            if (product.options.type === 'select') {
                const selectId = `${product.id}-option`;
                const optionsHtml = product.options.items.map(item => `<option value="${item.value}">${item.text}</option>`).join('');
                dynamicOptionsContainer.innerHTML = `
                    <div>
                        <label for="${selectId}" class="block text-sm font-medium mb-1 text-brand-gray">${product.options.label}</label>
                        <select id="${selectId}" name="${selectId}" class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                            ${optionsHtml}
                        </select>
                    </div>
                `;
            } else if (product.options.type === 'checkbox') {
                const checkboxesHtml = product.options.items.map(item => `
                    <label class="inline-flex items-center">
                        <input type="checkbox" name="${product.id}-flavor" value="${item.value}" class="form-checkbox text-brand-gold bg-brand-dark border-brand-dark/50 rounded focus:ring-brand-gold">
                        <span class="ml-2 text-brand-light">${item.text}</span>
                    </label>
                `).join('');
                dynamicOptionsContainer.innerHTML = `
                    <div>
                        <label class="block text-sm font-medium mb-1 text-brand-gray">${product.options.label}</label>
                        <div class="space-y-2">
                            ${checkboxesHtml}
                        </div>
                        <p id="${product.id}-flavor-warning" class="hidden text-xs text-brand-gold mt-1">Please select exactly two flavors.</p>
                        <div class="mt-4">
                            <label for="${product.id}-quantity" class="block text-sm font-medium mb-1 text-brand-gray">Quantity of Flights</label>
                            <input type="number" id="${product.id}-quantity" name="${product.id}-quantity" min="1" max="4" value="1" class="w-full px-3 py-2 bg-brand-dark text-white border border-brand-dark/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-gold">
                            <p id="${product.id}-quantity-warning" class="hidden text-xs text-brand-gold mt-1">Max online order is 4 flights. For more, please use the large order inquiry.</p>
                        </div>
                    </div>
                `;
            }
        }

        function showProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            document.getElementById('product-name').value = product.id;
            
            document.getElementById('slice-limit-message').classList.add('hidden');
            const fulfillmentDiv = document.getElementById('fulfillment-options');
            const deliveryOption = fulfillmentDiv.querySelector('option[value="Delivery"]');
            
            if (product.id === 'slice') {
                deliveryOption.disabled = true;
                document.getElementById('fulfillment').value = 'Bakery Pickup Friday';
                document.getElementById('slice-limit-message').classList.remove('hidden');
            } else {
                deliveryOption.disabled = false;
            }
            
            renderModalOptions(product);

            // Re-setup quantity validation for dynamically added elements
            if (product.id === 'pucks') {
                setupQuantityValidation('pucks-quantity', 'pucks-quantity-warning', product.maxOnlineQuantity);
            } else if (product.id === 'slice') {
                setupQuantityValidation('slice-quantity', 'slice-quantity-warning', product.maxOnlineQuantity);
            } else if (product.id === 'flight') {
                setupQuantityValidation('flight-quantity', 'flight-quantity-warning', product.maxOnlineQuantity);
            } else if (product.id === 'kit') {
                setupQuantityValidation('kit-quantity', 'kit-quantity-warning', product.maxOnlineQuantity);
            } else if (product.id === 'mithas') {
                 setupQuantityValidation('mithas-quantity', 'mithas-quantity-warning', 4);
            }

            overlay.style.display = 'block';
            productModal.style.display = 'block';
        }


        function showWorkshopModal(workshopType) {
            const modalTitle = document.getElementById('contact-modal-title');
            modalTitle.textContent = `Inquire about ${workshopType}`;
            document.getElementById('inquiry-type').value = workshopType;
            overlay.style.display = 'block';
            contactModal.style.display = 'block';
        }

        function showLargeOrderModal(productName) {
            const modalTitle = document.getElementById('large-order-modal-title');
            modalTitle.textContent = `Large ${productName} Inquiry`;
            const inquiryLink = document.getElementById('large-order-inquiry-link');
            const subject = `Large Order Inquiry: ${productName}`;
            inquiryLink.href = `mailto:contact@thegildedspoonshoppe.com?subject=${encodeURIComponent(subject)}`;
            overlay.style.display = 'block';
            largeOrderModal.style.display = 'block';
        }

        function toggleLargeOrder(productName, isChecked) {
            const productId = products.find(p => p.name === productName)?.id;
            if (!productId) return;

            const button = document.getElementById(`${productId}-order-btn`);

            if (isChecked) {
                if (button) {
                    button.disabled = true;
                    button.classList.add('disabled-button');
                }
                showLargeOrderModal(productName);
            } else {
                if (button) {
                    button.disabled = false;
                    button.classList.remove('disabled-button');
                }
                closeModal('large-order-modal');
            }
        }


        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
            }
            const anyModalOpen = document.querySelector('.modal[style*="display: block"]');
            if (!anyModalOpen) {
                overlay.style.display = 'none';
                document.querySelectorAll('input[onchange*="toggleLargeOrder"]').forEach(checkbox => {
                    if (checkbox.checked) {
                        checkbox.checked = false;
                        const productTypeWithSpaces = checkbox.getAttribute('onchange').match(/'([^']+)'/)[1];
                        toggleLargeOrder(productTypeWithSpaces, false);
                    }
                });
            }
        }

        overlay.addEventListener('click', () => {
            closeModal('product-modal');
            closeModal('contact-modal');
            closeModal('large-order-modal');
        });

        // --- QUANTITY VALIDATION ---
        function setupQuantityValidation(inputId, warningId, max) {
            const input = document.getElementById(inputId);
            const warning = document.getElementById(warningId);
            if (!input || !warning) return;

            input.addEventListener('input', function() {
                if (parseInt(this.value, 10) > max) {
                    this.value = max;
                    warning.classList.remove('hidden');
                } else {
                    warning.classList.add('hidden');
                }
            });
        }
        
        // This is where you would call the function to set up validation for specific inputs
        // This is no longer necessary as the `showProductModal` function handles this dynamically

        // --- SQUARE PAYMENT LINK LOGIC ---
        document.getElementById('product-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const form = event.target;
            const productId = form.elements['product-name'].value;
            const product = products.find(p => p.id === productId);
            if (!product) return;

            let finalLink = '';

            if (product.id === 'pucks') {
                const puckSize = form.elements['pucks-option'].value;
                finalLink = product.squareLinks[puckSize];
            } else if (product.id === 'slice') {
                finalLink = product.squareLinks.default;
            } else if (product.id === 'flight') {
                const fusionChoice = form.elements['flight-option'].value;
                finalLink = product.squareLinks[fusionChoice];
            } else if (product.id === 'kit') {
                const kitCanvas = form.elements['kit-option'].value;
                finalLink = product.squareLinks[kitCanvas];
            } else if (product.id === 'mithas') {
                const selectedFlavors = Array.from(document.querySelectorAll('input[name="mithas-flavor"]:checked')).map(cb => cb.value);
                if (selectedFlavors.length !== 2) {
                    document.getElementById('mithas-flavor-warning').classList.remove('hidden');
                    return;
                }
                document.getElementById('mithas-flavor-warning').classList.add('hidden');
                finalLink = product.squareLinks.default;
            }
            
            if (finalLink && finalLink.includes('https://')) {
                alert("Redirecting to our secure payment page...");
                window.location.href = finalLink;
            } else {
                alert("Sorry, this item is not available for online purchase at the moment. Please contact us to order.");
                console.error('Square link not found for product:', productId, 'with selected options.');
            }
        });

        // --- WORKSHOP INQUIRY FORM LOGIC ---
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const form = event.target;
            const name = form.elements['name'].value;
            const email = form.elements['email'].value;
            const inquiryType = form.elements['inquiry-type'].value;
            
            const subject = `Workshop Inquiry: ${inquiryType} from ${name}`;
            const body = `Hello! I'm interested in learning more about the ${inquiryType} workshop.%0D%0A%0D%0A--- My Details ---%0D%0AName: ${name}%0D%0AEmail: ${email}%0D%0ANumber of Participants: ${form.elements['participants'].value || 'N/A'}%0D%0ADesired Date: ${form.elements['event-date'].value || 'N/A'}%0D%0A%0D%0A--- My Questions/Comments ---%0D%0A${form.elements['message'].value}%0D%0A`;
            
            window.location.href = `mailto:contact@thegildedspoonshoppe.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

            alert("Thank you! Your email application should now open to send your inquiry.");
            closeModal('contact-modal');
        });
        
        // Initial render of product cards
        window.onload = renderProductCards;
    </script>
</body>
</html>
