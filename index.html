<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bespoke cakes and curated dessert experiences in McKinney, TX. The Gilded Spoon Cake Shoppe specializes in private workshops, events, and artisanal cake pucks.">
    <title>The Gilded Spoon Cake Shoppe</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Libre+Baskerville:ital@0;1&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@300;400;500;700&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-dark': '#1C161E',
                        'brand-light': '#F4F1ED',
                        'brand-gold': '#D4AF37',
                        'brand-gold-hover': '#E2C76A',
                        'brand-gray': '#A09DA6',
                        'brand-card': '#2A232F',
                        'brand-navy': '#0A2342',
                    },
                    fontFamily: {
                        'serif': ['"Playfair Display"', 'serif'],
                        'sans': ['"Inter"', 'sans-serif'],
                        'cursive': ['"Great Vibes"', 'cursive'],
                        'baskerville': ['"Libre Baskerville"', 'serif'],
                        'cinzel': ['"Cinzel"', 'serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #0A2342; color: #F4F1ED; font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        .header-bg { background-image: linear-gradient(rgba(10, 35, 66, 0.8), rgba(10, 35, 66, 0.8)), url('https://i.imgur.com/Z3QNyz1.png'); background-size: cover; background-position: center; }
        .modal { display: none; position: fixed; z-index: 1000; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 480px; }
        .overlay { display: none; position: fixed; z-index: 999; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .letter-line { opacity: 0; }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
    </style>
</head>
<body class="font-sans">

    <div id="overlay" class="overlay"></div>

    <div id="product-modal" class="modal bg-brand-card rounded-2xl shadow-2xl p-8">
        <h3 id="modal-title" class="font-serif text-3xl font-bold text-center mb-4 text-white">Customize Your Order</h3>
        <form id="product-form">
            <input type="hidden" id="product-id-input">
            <div id="modal-options-container" class="space-y-4">
            </div>
            <div class="flex justify-between items-center mt-8">
                <button type="button" onclick="closeModal()" class="text-brand-gray hover:text-white transition">Cancel</button>
                <button type="submit" class="bg-brand-gold text-brand-dark font-bold py-2 px-6 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Proceed to Payment</button>
            </div>
        </form>
    </div>

    <nav class="sticky top-0 bg-brand-navy/80 backdrop-blur-lg shadow-lg z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-serif font-bold text-brand-gold text-center leading-none">
                The Gilded Spoon
                <span class="block text-xs font-sans font-light not-italic tracking-[0.3em]">CAKE SHOPPE</span>
            </a>
            <div class="hidden md:flex items-center space-x-8 font-medium">
                <a href="#workshops" class="text-brand-light hover:text-brand-gold transition">Workshops</a>
                <a href="#products" class="text-brand-light hover:text-brand-gold transition">Cake Collection</a>
                <a href="flavors.html" class="text-brand-light hover:text-brand-gold transition">Flavor Library</a>
                <a href="events.html" class="text-brand-light hover:text-brand-gold transition">Private Events</a>
                <a href="#our-story" class="text-brand-light hover:text-brand-gold transition">Our Story</a>
                <a href="mailto:contact@thegildedspoonshoppe.com?subject=Website%20Inquiry..." class="text-brand-light hover:text-brand-gold transition">Contact</a>
            </div>
            <div class="md:hidden">
                <button id="hamburger-button" class="text-white focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden mt-4 px-4">
            <a href="#workshops" class="block py-2 px-4 text-sm text-brand-light hover:bg-brand-card rounded">Workshops</a>
            <a href="#products" class="block py-2 px-4 text-sm text-brand-light hover:bg-brand-card rounded">Cake Collection</a>
            <a href="flavors.html" class="block py-2 px-4 text-sm text-brand-light hover:bg-brand-card rounded">Flavor Library</a>
            <a href="events.html" class="block py-2 px-4 text-sm text-brand-light hover:bg-brand-card rounded">Private Events</a>
            <a href="#our-story" class="block py-2 px-4 text-sm text-brand-light hover:bg-brand-card rounded">Our Story</a>
            <a href="mailto:contact@thegildedspoonshoppe.com?subject=Website%20Inquiry..." class="block py-2 px-4 text-sm text-brand-light hover:bg-brand-card rounded">Contact</a>
        </div>
    </nav>

    <header id="home" class="flex items-center justify-center text-center py-32 md:py-40 header-bg min-h-[60vh]">
        <div id="letter-container" class="max-w-4xl mx-auto px-4">
            <p class="font-cursive text-4xl md:text-6xl text-brand-light leading-tight letter-line">
                To the one seeking more than just a cake...
            </p>
            <p class="font-baskerville text-xl md:text-2xl text-brand-light mt-6 letter-line">
                I believe that creativity is a language for our feelings.
            </p>
            <p class="font-serif text-2xl md:text-3xl text-brand-light mt-6 letter-line">
                Welcome to our story.
            </p>
            <div class="mt-10 letter-line">
                <a href="#our-story" class="inline-block bg-brand-gold text-brand-dark font-bold py-3 px-8 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">
                    Start Here
                </a>
            </div>
        </div>
    </header>

    <section class="py-12 mx-4 sm:mx-8 -mt-20 relative">
        <div class="max-w-6xl mx-auto px-8 bg-brand-card/50 border border-brand-gold/20 rounded-2xl p-10 text-center">
            <p class="font-serif text-2xl md:text-lg font-light text-brand-light leading-snug italic">
                “At The Gilded Spoon, every bite tells a story. We believe dessert should feel like poetry on a plate — full of wonder, crafted with care.”
            </p>
        </div>
    </section>

    <section id="workshops" class="py-16">
        <div class="max-w-6xl mx-auto px-4 sm:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <img src="https://i.imgur.com/EzQH7h1.png" alt="A private cake decorating workshop in session" class="rounded-2xl shadow-xl w-full h-full object-cover">
                </div>
                <div>
                    <h2 class="font-serif text-4xl md:text-5xl font-semibold mb-6 text-white">Creative Workshops</h2>
                    <div class="text-brand-gray space-y-4">
                        <p>This is the heart of The Gilded Spoon. Our private workshops are more than just classes; they are curated experiences designed to help you find your creative voice and tell your own story through the art of cake decorating.</p>
                        <p>Perfect for birthdays, bridal showers, or team-building events, we bring a memorable, all-inclusive luxury workshop to your chosen location. Let's create something beautiful together.</p>
                    </div>
                    <div class="mt-8">
                        <a href="events.html" class="inline-block bg-brand-gold text-brand-dark font-bold py-3 px-8 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">
                            Explore Our Experiences
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="products" class="py-10">
        <div class="max-w-6xl mx-auto px-4 sm:px-8">
            <h2 class="font-serif text-4xl md:text-5xl font-semibold text-center mb-8 text-white">Our Indulgent Collections</h2>
            <p class="max-w-3xl mx-auto text-center text-brand-gray mb-12">From individual treats to creative kits, each offering is crafted with artistry and the finest ingredients.</p>
            
            <div id="schedule" class="max-w-3xl mx-auto bg-brand-card/50 border border-brand-gold/20 rounded-2xl p-6 text-center mb-16">
                   <h3 class="font-serif text-2xl font-semibold mb-4 text-white">Our Weekly Schedule</h3>
                   <div class="text-md text-brand-gray space-y-3">
                        <p>We are a small-batch home bakery, and everything is made fresh to order. All orders have a minimum 1-week lead time.</p>
                        <p class="font-semibold text-brand-light">To be included in the next week's production schedule, all orders must be placed by <span class="text-brand-gold">6:00 PM on Wednesday</span> for pickup the following <span class="text-brand-gold">Friday or Saturday</span>.</p>
                   </div>
            </div>

            <div id="products-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
        </div>
    </section>

    <section id="our-story" class="py-16">
        <div class="max-w-6xl mx-auto px-4 sm:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="order-2 md:order-1">
                    <h2 class="font-serif text-4xl md:text-5xl font-semibold mb-6 text-white">Our Story</h2>
                    <div class="text-brand-gray space-y-4">
                        <p>The Gilded Spoon wasn’t born from a formal background in art, but from a personal search for a voice. For years, I found myself chasing words, struggling to express the feelings within. It was in the quiet, rhythmic process of baking that I discovered a new language—one spoken in flavor, color, and texture.</p>
                        <p>This shoppe is the realization of that discovery. We are an Atelier, a workshop where timeless techniques become tools for personal expression. We pour our hearts into every creation, crafting flavors that are both familiar and surprising. From our signature Cake Pucks to bespoke celebration cakes, each item is a piece of edible art, designed not just to delight the senses, but to bring a little more story and wonder into your life.</p>
                        <div class="mt-8 pt-6 border-t border-brand-gray/20">
                            <h3 class="font-serif text-3xl font-semibold mb-4 text-white">Our Mission: Creating Art with Purpose</h3>
                            <p>The Gilded Spoon is built on the belief that creativity is a universal language—one that helped me find my own voice. Our mission is to share that gift. As we grow, our 'Sweet Giving Initiative' is our commitment to providing fully-funded creative workshops for children in our local non-profit community. Every event booked with us is a step toward making that vision a reality.</p>
                        </div>
                    </div>
                </div>
                <div class="order-1 md:order-2">
                    <img src="https://imgur.com/1x3JGRP.jpeg" alt="Baker decorating a cake" class="rounded-2xl shadow-xl w-full h-full object-cover">
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-16 bg-brand-card/50 border border-brand-gold/20">
        <div class="max-w-3xl mx-auto px-4 sm:px-8 text-center">
            <h2 class="font-serif text-4xl sm:text-5xl font-semibold mb-8 text-white">Let's Connect!</h2>
            <p class="text-lg text-brand-gray mb-8">For custom cakes, private workshops, or any other questions, please reach out. We'd love to help bring your sweet vision to life.</p>
            <p class="text-brand-gray mb-8">You can email us directly at <a href="mailto:contact@thegildedspoonshoppe.com" class="text-brand-gold hover:underline">contact@thegildedspoonshoppe.com</a> for any questions.</p>
            <a href="mailto:contact@thegildedspoonshoppe.com?subject=Website%20Inquiry..." class="inline-block bg-brand-gold text-brand-dark font-bold py-3 px-8 rounded-lg hover:bg-brand-gold-hover transition-transform transform hover:scale-105">Send an Email Inquiry</a>
        </div>
    </section>

    <footer class="bg-brand-navy text-brand-gray">
        <div class="max-w-6xl mx-auto px-6 py-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div>
                    <h3 class="text-xl font-serif font-bold mb-2">The Gilded Spoon</h3>
                    <p class="text-sm uppercase tracking-widest mb-4">CAKE SHOPPE</p>
                </div>
                <div>
                    <h3 class="text-lg font-serif font-bold mb-3">Quick Links</h3>
                    <ul class="space-y-1 text-sm text-brand-gray">
                        <li><a href="index.html" class="hover:text-brand-gold hover:underline transition-colors duration-300">Home</a></li>
                        <li><a href="#our-story" class="hover:text-brand-gold hover:underline transition-colors duration-300">Our Story</a></li>
                        <li><a href="flavors.html" class="hover:text-brand-gold hover:underline transition-colors duration-300">Flavor Library</a></li>
                        <li><a href="mailto:Contact@thegildedspoonshoppe.com?subject=Website%20Inquiry" class="hover:text-brand-gold hover:underline transition-colors duration-300">Contact Us</a></li>
                        <li><a href="policies.html" class="hover:text-brand-gold hover:underline transition-colors duration-300">Order & Return Policies</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-serif font-bold mb-3">Connect With Us</h3>
                    <div class="flex justify-center space-x-6">
                        <a href="https://www.instagram.com/flour.shoppe.studios/" aria-label="Instagram" class="text-brand-gray hover:text-brand-gold transition-opacity">
                            <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919 4.919 1.266-.057 1.645-.069 4.85-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.667.072 4.947c.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.667-.014 4.947-.072c4.358-.2 6.78-2.618 6.98-6.98.059-1.281.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.2-4.358-2.618-6.78-6.98-6.98-1.281-.059-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"/></svg>
                        </a>
                        <a href="https://www.facebook.com/thegildedspoonshoppe" aria-label="Facebook" class="text-brand-gray hover:text-brand-gold transition-opacity">
                            <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24"><path d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.494v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.323-1.325z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-6 border-t border-brand-gray/20 pt-6 text-center">
                <p class="text-sm mb-2 text-brand-gray">The Gilded Spoon Cake Shoppe by Flour Shoppe Studios</p>
                <p class="text-sm text-brand-gray">&copy; 2025 The Gilded Spoon Cake Shoppe. All Rights Reserved.</p>
                <p class="mt-4 text-xs max-w-md mx-auto px-4 text-brand-gray/50">Products are prepared in a home kitchen that handles allergens including wheat, dairy, eggs, soy, and nuts.</p>
            </div>
        </div>
    </footer>

    <script>
    // --- DATA ---
    const products = [
        { id: 'pucks', name: 'Curated Cake Pucks', subtext: 'Perfect for gifting, sharing, or indulging.', description: 'Our signature treat. A miniature 2" cake with a delicate chocolate shell, available exclusively in boxes of three, six, or twelve.', image: 'https://imgur.com/9tV4SFa.jpeg', price: '$21.00 - $78.00', hasLargeOrderNote: true, options: [ { text: '3-Pack - $21.00', value: 'puck-3pack', link: 'https://square.link/u/KMi13npr' }, { text: '6-Pack - $40.00', value: 'puck-6pack', link: 'https://square.link/u/k3QTMvuF' }, { text: '12-Pack - $78.00', value: 'puck-12pack', link: 'https://square.link/u/VZw7zsyO' } ] },
        { id: 'mithas', name: 'Curated Mithai Dabba', subtext: 'Pronounced: Mith-ah-ee Dub-bah. An eggless collection marrying South Asian flavors and signature elegance.', description: 'Inspired by my South Asian heritage, each flavor transforms a traditional dessert into an elegant, modern cake.', image: 'https://imgur.com/akOT2O1.jpeg', price: '$15.00 per flight', hasLargeOrderNote: true, options: [ { text: 'Tasting Duo - $15.00', value: 'mithas-flight', link: 'https://square.link/u/2qgl2nif' } ] },
        { id: 'flight', name: 'Cake Bites & Board', subtext: 'A curated tasting experience.', description: 'A delightful board featuring three curated slices from our current seasonal collection. Perfect for sharing.', image: 'https://imgur.com/V7FhUqj.jpeg', price: '$22.00', hasLargeOrderNote: true, options: [ { text: 'Cake Bites & Board - $22.00', value: 'flight', link: 'https://square.link/u/escrWE54' } ] },
        { id: 'kit', name: 'At-Home Paint by Cake Kits', subtext: 'For custom dietary needs, please contact us.', description: 'Discover your inner artist. We provide everything you need to transform your own cake into a work of art.', image: 'https://imgur.com/FX7UFPc.jpeg', price: '$45.00', hasLargeOrderNote: true, options: [ { text: 'Paint by Cake Kit - $45.00', value: 'kit', link: 'https://square.link/u/D099GWCT' } ] },
        { id: 'custom', name: 'Custom Celebration Cakes', subtext: 'Your vision, beautifully baked.', description: 'Perfect for birthdays, anniversaries, and showers, our custom cakes are designed to be the centerpiece your occasion deserves.', image: 'https://imgur.com/xtvtDQs.jpeg', price: 'Starting at $125.00', isContactForm: true, contactLink: "mailto:contact@thegildedspoonshoppe.com?subject=Custom%20Celebration%20Cake%20Inquiry&body=Hello!%0D%0A%0D%0AI'm%20excited%20to%20inquire%20about%20a%20custom%20celebration%20cake..."},
    ];

    // --- RENDER & MODAL FUNCTIONS ---
    const overlay = document.getElementById('overlay');
    const modal = document.getElementById('product-modal');

    function showProductModal(productId) { /* ... Modal logic ... */ }
    function closeModal() { /* ... Modal logic ... */ }

    // THIS IS THE UPDATED FUNCTION FOR THE 2+3 LAYOUT
    function renderProductCards() {
        const container = document.getElementById('products-container');
        if (!container) return;

        // We change the grid to have 6 columns on large screens to allow for this layout
        container.className = "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8";

        container.innerHTML = products.map((product, index) => {
            const buttonHtml = product.isContactForm ?
                `<a href="${product.contactLink}" class="mt-4 text-center w-full bg-transparent border-2 border-brand-gold text-brand-gold font-bold py-2 px-4 rounded-lg hover:bg-brand-gold hover:text-brand-dark transition">Learn More & Inquire</a>` :
                `<button onclick="showProductModal('${product.id}')" class="mt-auto w-full bg-brand-gold text-brand-dark font-bold py-2 px-4 rounded-lg hover:bg-brand-gold-hover transition">Order Now</button>`;

            const largeOrderNoteHtml = product.hasLargeOrderNote ?
            `<p class="text-xs text-brand-gray mt-4">For large orders or to inquire about custom catering, please <a href="mailto:contact@thegildedspoonshoppe.com?subject=Large%20Order%20Inquiry:%20${encodeURIComponent(product.name)}&body=Hello!%20I'd%20like%20to%20inquire%20about%20a%20large%2Fcatering%20order%20for%20${encodeURIComponent(product.name)}..." class="text-brand-gold hover:underline">send an inquiry</a>.</p>` : '';
            
            // This is the magic: the first two cards get a wider span
            const columnSpanClass = index < 2 ? 'lg:col-span-3' : 'lg:col-span-2';

            return `
                <div class="${columnSpanClass} bg-brand-card/50 border border-brand-gold/20 rounded-2xl shadow-xl flex flex-col">
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover rounded-t-2xl">
                    <div class="p-6 flex flex-col flex-grow">
                        <h3 class="font-serif text-2xl font-bold text-white">${product.name}</h3>
                        <p class="text-sm text-brand-gray/80 mt-1 italic">${product.subtext}</p>
                        <p class="text-brand-gray my-4 text-sm flex-grow">${product.description}</p>
                        <div class="text-lg font-semibold text-brand-gold mt-auto">${product.price}</div>
                        ${largeOrderNoteHtml}
                        <div class="mt-4">
                            ${buttonHtml}
                        </div>
                    </div>
                </div>
            `;
        }).join('');
    }

    // --- EVENT LISTENERS ---
    // (I have condensed the original JS here for brevity, but your full functional code is included)
    if (overlay) overlay.addEventListener('click', closeModal);
    const productForm = document.getElementById('product-form');
    if (productForm) { productForm.addEventListener('submit', function(event) { event.preventDefault(); /* ... Form submission logic ... */ }); }
    document.addEventListener('DOMContentLoaded', renderProductCards);
    const hamburgerButton = document.getElementById('hamburger-button');
    const mobileMenu = document.getElementById('mobile-menu');
    hamburgerButton.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });

    // Rest of your original JavaScript for modals and form submission...
    // Note: To make the code block cleaner, I've left the full functions inside the final HTML,
    // but represented them as comments here. The code block below contains the full, working JS.
    </script>
    
    <script>
        // Data is defined above...
        
        // Full functions and event listeners
        function showProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || product.isContactForm) return;
            document.getElementById('modal-title').textContent = `Order: ${product.name}`;
            document.getElementById('product-id-input').value = product.id;
            const optionsContainer = document.getElementById('modal-options-container');
            optionsContainer.innerHTML = `<label class="block text-sm font-medium text-brand-gray">Select Format</label>${product.options.map((opt, index) => `<div class="p-3 bg-brand-dark rounded-lg has-[:checked]:ring-2 has-[:checked]:ring-brand-gold"><label class="flex items-center space-x-3 cursor-pointer"><input type="radio" name="product-option" value="${opt.value}" class="form-radio text-brand-gold bg-brand-dark border-brand-dark/50 focus:ring-brand-gold" ${index === 0 ? 'checked' : ''}><span class="text-brand-light">${opt.text}</span></label></div>`).join('')}`;
            overlay.style.display = 'block';
            modal.style.display = 'block';
        }

        function closeModal() {
            if(overlay) overlay.style.display = 'none';
            if(modal) modal.style.display = 'none';
        }

        const productFormFull = document.getElementById('product-form');
        if (productFormFull) {
            productFormFull.addEventListener('submit', function(event) {
                event.preventDefault();
                const productId = document.getElementById('product-id-input').value;
                const selectedOptionValue = this.elements['product-option'].value;
                const product = products.find(p => p.id === productId);
                const selectedOption = product.options.find(opt => opt.value === selectedOptionValue);
                if (selectedOption && selectedOption.link) {
                    const messageBox = document.createElement('div');
                    messageBox.textContent = "Redirecting to our secure payment page...";
                    messageBox.style.cssText = 'position:fixed; top:20px; left:50%; transform:translateX(-50%); padding:10px 20px; background-color:#2A232F; color:#F4F1ED; border-radius:8px; z-index:2000;';
                    document.body.appendChild(messageBox);
                    setTimeout(() => { document.body.removeChild(messageBox); window.location.href = selectedOption.link; }, 1500);
                } else {
                    const errorBox = document.createElement('div');
                    errorBox.textContent = "Sorry, an error occurred. Please try again.";
                    errorBox.style.cssText = 'position:fixed; top:20px; left:50%; transform:translateX(-50%); padding:10px 20px; background-color:#991B1B; color:#F4F1ED; border-radius:8px; z-index:2000;';
                    document.body.appendChild(errorBox);
                    setTimeout(() => { document.body.removeChild(errorBox); }, 3000);
                }
            });
        }
    </script>
    
    <script>
    // Animation script for the header
    document.addEventListener('DOMContentLoaded', () => {
        const letterLines = document.querySelectorAll('.letter-line');
        const initialDelay = 500;
        const staggerDelay = 700;
        letterLines.forEach((line, index) => {
            setTimeout(() => {
                line.classList.add('animate-fadeInUp');
            }, initialDelay + (index * staggerDelay));
        });
    });
    </script>
</body>
</html>
